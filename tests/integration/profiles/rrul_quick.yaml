# Quick RRUL test profile for CI/development
#
# Runs a 30-second RRUL test for faster feedback during
# development and CI pipelines. Less thorough than standard
# but catches obvious regressions.
#
# Target: Dallas netperf server (104.200.21.31)
# Duration: 30 seconds with 3s warmup/cooldown
# Purpose: Quick smoke test for CI

name: rrul_quick
description: "30-second RRUL test for CI and quick validation"
tool: flent
duration_seconds: 30
warmup_seconds: 3
cooldown_seconds: 3
host: "104.200.21.31"

parameters:
  test_name: rrul
  # Still use 8 streams - we need realistic load
  test_parameter_tcp_streams: 8

# Realistic SLAs for Spectrum cable (DOCSIS)
# Based on testing: P95=115-190ms, P99=161-584ms achievable
latency_slas:
  p95_max_ms: 200.0 # Achievable with tuning (was 60)
  p99_max_ms: 400.0 # Account for DOCSIS variance (was 120)
  avg_max_ms: 80.0 # Realistic under RRUL (was 40)
  max_bloat_over_baseline_ms: 60.0 # Allow for load variance (was 40)
  flat_top_threshold_ms: 100.0
  flat_top_max_duration_sec: 2.0

controller_slas:
  max_response_time_ms: 2000.0 # Allow for EWMA lag (was 500)
  min_rate_reduction_pct: 10.0
  require_state_transitions: true
