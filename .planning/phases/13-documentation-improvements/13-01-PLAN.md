---
phase: 13-documentation-improvements
plan: 01
type: execute
---

<objective>
Review documentation consistency and fix stale references after Phases 8-12 refactoring.

Purpose: Ensure docstrings and module references remain accurate after utility consolidation and extraction phases.
Output: Updated docstrings and corrected cross-references across affected files.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/codebase/CONVENTIONS.md

**Refactoring context from Phases 8-12:**
- Phase 8: Created signal_utils.py, systemd_utils.py
- Phase 9: Merged paths.py → path_utils.py, lockfile.py → lock_utils.py
- Phase 10: Merged ping_utils.py → rtt_measurement.py, rate_limiter.py → rate_utils.py
- Phase 11: Split long functions in config, calibrate, cake_stats
- Phase 12: Refactored RouterOSREST parsing and ID lookups

**Modules to check for stale references:**
@src/wanctl/autorate_continuous.py
@src/wanctl/calibrate.py
@src/wanctl/steering/daemon.py
@src/wanctl/rtt_measurement.py
@src/wanctl/lock_utils.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify new utility module docstrings</name>
  <files>src/wanctl/signal_utils.py, src/wanctl/systemd_utils.py</files>
  <action>Review signal_utils.py and systemd_utils.py module docstrings. Verify they accurately describe the consolidated functionality and usage patterns. If any docstrings are missing or inaccurate, update them following Google-style format per CONVENTIONS.md. Check that exported functions have complete docstrings with Args/Returns sections.</action>
  <verify>grep -A 10 '"""' src/wanctl/signal_utils.py src/wanctl/systemd_utils.py | head -40</verify>
  <done>Both utility modules have accurate module-level docstrings describing their purpose and usage</done>
</task>

<task type="auto">
  <name>Task 2: Fix stale references to merged modules</name>
  <files>src/wanctl/*.py, tests/*.py</files>
  <action>Search for any remaining references to deleted modules (paths.py, lockfile.py, ping_utils.py, rate_limiter.py). Check docstrings, comments, and code for references like "see lockfile.py" or "from ping_utils". Update any stale references to point to the correct consolidated modules (path_utils.py, lock_utils.py, rtt_measurement.py, rate_utils.py). Use grep to find all occurrences.</action>
  <verify>grep -r "lockfile\|ping_utils\|rate_limiter\|paths\.py" src/wanctl/ tests/ --include="*.py" || echo "No stale references found"</verify>
  <done>No references to deleted modules remain in codebase</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] All utility module docstrings are accurate and complete
- [ ] No references to deleted modules (paths.py, lockfile.py, ping_utils.py, rate_limiter.py)
- [ ] All 474 tests still pass
</verification>

<success_criteria>

- Documentation consistency verified across refactored modules
- All stale references updated to correct modules
- No test failures
</success_criteria>

<output>
After completion, create `.planning/phases/13-documentation-improvements/13-01-SUMMARY.md`
</output>
