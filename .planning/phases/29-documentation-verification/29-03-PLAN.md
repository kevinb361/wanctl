---
phase: 29-documentation-verification
plan: 03
type: execute
wave: 2
depends_on: ["29-01"]
files_modified:
  - CLAUDE.md
  - README.md
autonomous: true

must_haves:
  truths:
    - "CLAUDE.md accurately describes current project state"
    - "README.md CLI examples execute successfully"
    - "README.md architecture description matches implementation"
    - "No stale feature descriptions remain"
  artifacts:
    - path: "CLAUDE.md"
      provides: "Project instructions for Claude"
    - path: "README.md"
      provides: "Public project documentation"
  key_links:
    - from: "README.md"
      to: "pyproject.toml"
      via: "CLI entrypoints"
      pattern: "wanctl|wanctl-calibrate|wanctl-steering"
    - from: "CLAUDE.md"
      to: "src/wanctl/"
      via: "architecture claims"
      pattern: "50ms|CAKE|steering"
---

<objective>
Verify root documentation (CLAUDE.md, README.md) accuracy against current implementation.

Purpose: These are the first docs users/Claude see. Inaccurate claims cause confusion and wasted time.
Output: Root docs verified and fixed, examples work, claims are accurate.
</objective>

<execution_context>
@/home/kevin/.claude/get-shit-done/workflows/execute-plan.md
@/home/kevin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/29-documentation-verification/29-CONTEXT.md
@.planning/phases/29-documentation-verification/29-RESEARCH.md
@.planning/phases/29-documentation-verification/29-01-SUMMARY.md

# Source files for verification
@pyproject.toml
@src/wanctl/__init__.py
@src/wanctl/autorate_continuous.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Verify CLAUDE.md accuracy</name>
  <files>
    - CLAUDE.md
    - src/wanctl/autorate_continuous.py
    - src/wanctl/steering/daemon.py
  </files>
  <action>
Read CLAUDE.md and verify each claim:

**Verify against code:**
1. "Cycle Interval: 50ms" - Check autorate_continuous.py default
2. "4-state (GREEN/YELLOW/SOFT_RED/RED)" - Verify state enum exists
3. "3-state (GREEN/YELLOW/RED)" for upload - Verify
4. "Only secondary WAN makes routing decisions" - Check steering daemon logic
5. Container names (cake-spectrum, cake-att) - These are deployment-specific, mark as example
6. File locations (/opt/wanctl, /etc/wanctl, etc.) - These are deployment conventions

**Check for outdated content:**
1. "Known Issues" section - Verify issues are still current or mark resolved
2. "ICMP Blackout Handling" - Already marked resolved, verify still accurate
3. Development commands - Test that pytest/ruff/mypy commands work

**Check for misleading content:**
1. "Phase2BController integrated" - Renamed to confidence-based steering, update if still saying Phase2B
2. Any RC version references (already fixed in Plan 01, but verify)

Fix any inaccuracies found. Maintain the conservative change policy mentioned in the doc.
  </action>
  <verify>
1. `grep -n "50ms\|Cycle Interval" CLAUDE.md` shows accurate cycle time
2. `grep -n "Phase2B" CLAUDE.md` returns nothing (renamed)
3. `grep -n "Known Issues" CLAUDE.md` section is accurate
  </verify>
  <done>CLAUDE.md contains no factual errors about current implementation</done>
</task>

<task type="auto">
  <name>Task 2: Verify README.md examples and claims</name>
  <files>
    - README.md
    - pyproject.toml
  </files>
  <action>
Read README.md and verify:

**CLI examples (check against pyproject.toml entrypoints):**
1. `wanctl` command exists - Check [project.scripts]
2. `wanctl-calibrate` command exists - Check [project.scripts]
3. `wanctl-steering` command exists - Check [project.scripts]
4. Any CLI flags mentioned - Verify with code argparse

**Health endpoint example:**
- Already fixed in Plan 01 (version), verify JSON structure is accurate
- Check response fields match actual health endpoint response

**Architecture claims:**
1. "Sub-second congestion detection" - Accurate (50ms cycles)
2. "CAKE queue tuning" - Verify CAKE is mentioned correctly
3. "MikroTik RouterOS" - Verify this is still the target platform

**Quick start commands:**
- Verify any install/setup commands are accurate
- Check pip install command if present
- Verify any docker commands if present

**Fix any issues:**
- Update stale examples
- Fix incorrect command syntax
- Update architecture claims if needed

Commit separately per CONTEXT.md.
  </action>
  <verify>
1. `grep -n "wanctl" pyproject.toml | head -5` shows entrypoints match README examples
2. README.md health endpoint JSON matches actual response structure
3. No RC version references remain
  </verify>
  <done>README.md examples work, claims are accurate, no stale content</done>
</task>

</tasks>

<verification>
1. CLAUDE.md change policy, cycle interval, state machine descriptions all accurate
2. README.md CLI examples match pyproject.toml entrypoints
3. No outdated feature descriptions (Phase2B renamed, RC versions gone)
4. Health endpoint example shows realistic response
</verification>

<success_criteria>
- CLAUDE.md cycle interval = 50ms (matches code)
- CLAUDE.md state descriptions match actual enums
- README.md CLI commands exist in pyproject.toml
- No Phase2B references (now confidence-based steering)
- Version 1.4.0 throughout (completed in Plan 01)
</success_criteria>

<output>
After completion, create `.planning/phases/29-documentation-verification/29-03-SUMMARY.md`
</output>
