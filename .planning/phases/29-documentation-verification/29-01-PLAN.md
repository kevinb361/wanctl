---
phase: 29-documentation-verification
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pyproject.toml
  - CLAUDE.md
  - README.md
  - scripts/install.sh
  - scripts/validate-deployment.sh
  - docs/FALLBACK_CHECKS_IMPLEMENTATION.md
  - docs/TRANSPORT_COMPARISON.md
autonomous: true

must_haves:
  truths:
    - "All version references show 1.4.0 (except historical context)"
    - "pyproject.toml version matches __version__ in __init__.py"
    - "Scripts use correct version for deployment validation"
  artifacts:
    - path: "pyproject.toml"
      provides: "Package version"
      contains: 'version = "1.4.0"'
    - path: "CLAUDE.md"
      provides: "Project instructions"
      contains: "1.4.0"
    - path: "scripts/install.sh"
      provides: "Install script"
      contains: 'VERSION="1.4.0"'
  key_links:
    - from: "pyproject.toml"
      to: "src/wanctl/__init__.py"
      via: "version consistency"
      pattern: "1\\.4\\.0"
---

<objective>
Standardize all version references across the codebase to 1.4.0.

Purpose: Eliminate version inconsistencies discovered in research phase. Version drift causes confusion and deployment errors.
Output: All files with version strings updated to 1.4.0 (except historical references in CHANGELOG).
</objective>

<execution_context>
@/home/kevin/.claude/get-shit-done/workflows/execute-plan.md
@/home/kevin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/29-documentation-verification/29-CONTEXT.md
@.planning/phases/29-documentation-verification/29-RESEARCH.md

# Source of truth for version
@src/wanctl/__init__.py
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit and catalog all version strings</name>
  <files>
    - pyproject.toml
    - CLAUDE.md
    - README.md
    - scripts/install.sh
    - scripts/validate-deployment.sh
    - docs/FALLBACK_CHECKS_IMPLEMENTATION.md
    - docs/TRANSPORT_COMPARISON.md
  </files>
  <action>
Search for all version strings in the codebase using grep patterns:
- `version.*=` in pyproject.toml
- `Version:` or `**Version:**` in markdown
- `VERSION=` in shell scripts
- `"version":` in JSON-style health examples
- Version references like `1.0.0`, `1.1.0`, `rc7`, etc.

For each occurrence, determine:
1. Is this a CURRENT version claim? (needs update to 1.4.0)
2. Is this HISTORICAL context? (CHANGELOG entries, "as of v1.0.0", "introduced in") - leave as-is
3. Is this a different versioning system? (schema version, API version) - evaluate separately

Create a mental catalog of what needs changing vs what stays.

CRITICAL: Do NOT change versions in:
- CHANGELOG.md entries (historical)
- Text that says "introduced in version X" or "as of version X"
- Schema versions (like `schema_version: "1.0"` which is config format version)
  </action>
  <verify>grep -rn "1\.0\.0\|1\.1\.0\|1\.0\.0-rc\|rc[0-9]" --include="*.md" --include="*.py" --include="*.toml" --include="*.sh" /home/kevin/projects/wanctl | grep -v CHANGELOG | grep -v ".planning" to see remaining stale versions (pattern catches rc7, rc5, etc.)</verify>
  <done>All version occurrences cataloged with update/skip decision for each</done>
</task>

<task type="auto">
  <name>Task 2: Update version strings to 1.4.0</name>
  <files>
    - pyproject.toml
    - CLAUDE.md
    - README.md
    - scripts/install.sh
    - scripts/validate-deployment.sh
    - docs/FALLBACK_CHECKS_IMPLEMENTATION.md
    - docs/TRANSPORT_COMPARISON.md
  </files>
  <action>
Update each file with stale version to 1.4.0:

1. **pyproject.toml** (line ~3): Change `version = "1.0.0-rc7"` to `version = "1.4.0"`

2. **CLAUDE.md** (line ~10): Change `**Version:** 1.1.0` to `**Version:** 1.4.0`

3. **README.md**: Find health endpoint example with `"version": "1.0.0-rc7"` and update to `"version": "1.4.0"`

4. **scripts/install.sh** (line ~20): Change `VERSION="1.0.0-rc5"` to `VERSION="1.4.0"`

5. **scripts/validate-deployment.sh** (line ~21): Change `VERSION="1.0.0"` to `VERSION="1.4.0"`

6. **docs/FALLBACK_CHECKS_IMPLEMENTATION.md**: Find header version ref and update

7. **docs/TRANSPORT_COMPARISON.md**: Check footer version - if it's a document version (like "v4.6"), consider removing or updating to reflect document revision scheme

Commit strategy: Per-file commits as specified in CONTEXT.md.
  </action>
  <verify>
Per-file verification:
1. `grep -n "^version" /home/kevin/projects/wanctl/pyproject.toml` shows 1.4.0
2. `grep -n "Version:" /home/kevin/projects/wanctl/CLAUDE.md` shows 1.4.0
3. `grep -n '"version"' /home/kevin/projects/wanctl/README.md` shows 1.4.0 in health example
4. `grep -n "VERSION=" /home/kevin/projects/wanctl/scripts/install.sh` shows 1.4.0
5. `grep -n "VERSION=" /home/kevin/projects/wanctl/scripts/validate-deployment.sh` shows 1.4.0
6. `grep -rn "1\.0\.0-rc\|rc[0-9]" /home/kevin/projects/wanctl --include="*.md" --include="*.sh" | grep -v CHANGELOG | grep -v .planning` returns empty
  </verify>
  <done>All current version references show 1.4.0, historical references preserved</done>
</task>

</tasks>

<verification>
1. `python -c "import wanctl; print(wanctl.__version__)"` shows 1.4.0
2. `grep version /home/kevin/projects/wanctl/pyproject.toml` shows 1.4.0
3. No stale rc7/rc5/1.0.0/1.1.0 versions in active docs (excluding CHANGELOG)
4. Git diff shows only version number changes, no accidental modifications
</verification>

<success_criteria>
- pyproject.toml version = "1.4.0"
- CLAUDE.md shows Version: 1.4.0
- README.md health example shows version 1.4.0
- All scripts use VERSION="1.4.0"
- No stale version strings remain (except CHANGELOG history)
</success_criteria>

<output>
After completion, create `.planning/phases/29-documentation-verification/29-01-SUMMARY.md`
</output>
