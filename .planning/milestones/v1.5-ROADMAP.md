# Roadmap: v1.5 Quality & Hygiene

## Overview

v1.5 focuses on code quality infrastructure and hygiene: adding test coverage measurement, cleaning accumulated debt, verifying documentation accuracy, and auditing dependencies for security. These improvements build the foundation for sustainable development.

## Phases

- [x] **Phase 27: Test Coverage Setup** - Configure pytest-cov and establish coverage measurement
- [x] **Phase 28: Codebase Cleanup** - Remove dead code, triage TODOs, analyze complexity
- [x] **Phase 29: Documentation Verification** - Verify docs match current implementation
- [ ] **Phase 30: Security Audit** - Audit dependencies and add security scanning

## Phase Details

### Phase 27: Test Coverage Setup

**Goal**: Establish test coverage measurement infrastructure with reporting and thresholds
**Depends on**: Nothing (first phase of milestone)
**Requirements**: COV-01, COV-02, COV-03, COV-04, COV-05
**Plans**: 1 plan
**Status**: Complete
**Completed**: 2026-01-24

Plans:

- [x] 27-01-PLAN.md - Configure pytest-cov, create Makefile, add coverage badge

**Success Criteria** (what must be TRUE):

1. `make coverage` generates coverage report showing line/branch coverage
2. HTML coverage report viewable in browser (coverage-report/index.html)
3. Coverage diff shown (advisory, no threshold enforcement yet)
4. README.md displays current coverage percentage via badge

### Phase 28: Codebase Cleanup

**Goal**: Remove accumulated technical debt and improve code consistency
**Depends on**: Nothing (independent of Phase 27)
**Requirements**: CLN-01, CLN-02, CLN-03, CLN-04, CLN-05
**Status**: Complete
**Completed**: 2026-01-24

**Success Criteria** (what must be TRUE):

1. No unused imports or dead functions remain in codebase
2. All TODO/FIXME comments either resolved or documented in backlog
3. High-complexity functions (>10 McCabe) identified and documented
4. Code style consistent across all modules (ruff --fix applied)
5. Pattern review document exists listing inconsistencies found

**Plans**: 1 plan

Plans:

- [x] 28-01-PLAN.md - Apply ruff fixes, create comprehensive cleanup report

### Phase 29: Documentation Verification

**Goal**: Ensure all documentation accurately reflects current implementation
**Depends on**: Phase 28 (cleanup may change code, affecting docs)
**Requirements**: DOC-01, DOC-02, DOC-03, DOC-04, DOC-05
**Status**: Complete
**Completed**: 2026-01-24

**Success Criteria** (what must be TRUE):

1. All version references show correct version (1.4.0)
2. CLI examples and commands execute successfully
3. CONFIG_SCHEMA.md matches actual config validation behavior
4. Architecture docs describe current implementation accurately
5. No stale sections remain (outdated features, removed options)

**Plans**: 4 plans

Plans:

- [x] 29-01-PLAN.md - Version number standardization
- [x] 29-02-PLAN.md - Config documentation verification
- [x] 29-03-PLAN.md - Root documentation verification
- [x] 29-04-PLAN.md - Feature documentation verification

### Phase 30: Security Audit

**Goal**: Identify and address dependency security vulnerabilities
**Depends on**: Nothing (independent of other phases)
**Requirements**: SEC-01, SEC-02, SEC-03, SEC-04, SEC-05

**Success Criteria** (what must be TRUE):

1. pip-audit or safety check has been run against all dependencies
2. Findings documented (including "no vulnerabilities found" if clean)
3. Any CVEs found have been addressed (updated or documented as acceptable risk)
4. CI pipeline includes automated security scanning step
5. Transitive dependency tree reviewed and documented

**Plans**: 2 plans

Plans:

- [ ] 30-01-PLAN.md - Install and configure security scanning tools
- [ ] 30-02-PLAN.md - Add Makefile targets, run scans, produce audit report

## Requirement Coverage

| Requirement | Phase | Description                                       |
| ----------- | ----- | ------------------------------------------------- |
| COV-01      | 27    | pytest-cov configured in pyproject.toml           |
| COV-02      | 27    | make coverage target generates report             |
| COV-03      | 27    | HTML coverage report in coverage-report/          |
| COV-04      | 27    | Coverage threshold enforcement (advisory for now) |
| COV-05      | 27    | Coverage badge in README.md                       |
| CLN-01      | 28    | Dead code identified and removed                  |
| CLN-02      | 28    | TODO/FIXME comments triaged                       |
| CLN-03      | 28    | Complexity analysis run                           |
| CLN-04      | 28    | ruff --fix applied                                |
| CLN-05      | 28    | Pattern consistency reviewed                      |
| DOC-01      | 29    | Version numbers verified                          |
| DOC-02      | 29    | CLI examples verified                             |
| DOC-03      | 29    | Config docs match schema                          |
| DOC-04      | 29    | Architecture descriptions match implementation    |
| DOC-05      | 29    | Stale docs removed                                |
| SEC-01      | 30    | pip-audit or safety check run                     |
| SEC-02      | 30    | Findings documented                               |
| SEC-03      | 30    | Dependencies updated if CVEs found                |
| SEC-04      | 30    | Security scanning in CI                           |
| SEC-05      | 30    | Transitive dependencies reviewed                  |

**Coverage: 20/20 requirements mapped**

## Progress

| Phase                          | Plans Complete | Status      | Completed  |
| ------------------------------ | -------------- | ----------- | ---------- |
| 27. Test Coverage Setup        | 1/1            | Complete    | 2026-01-24 |
| 28. Codebase Cleanup           | 1/1            | Complete    | 2026-01-24 |
| 29. Documentation Verification | 4/4            | Complete    | 2026-01-24 |
| 30. Security Audit             | 0/2            | Not started | -          |

---

_Created: 2026-01-24_
_Milestone: v1.5 Quality & Hygiene_
